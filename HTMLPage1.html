<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perceptions et Illusions</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&family=Playfair+Display&display=swap" rel="stylesheet">
<link rel="icon" type="image/svg" href="https://le-xandre.github.io/Vitrine-Portfolio/assets/images/loading.svg">      
    
<style>
/* Reset de base */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  background: #000;
  color: #fff;
  font-family: sans-serif;
  overflow: hidden;
  position: relative; /* important pour le stacking */
}

/* Canvas anim√© en arri√®re-plan */
canvas#bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1; /* derri√®re tout */
  pointer-events: none;
}

/* Header et navigation */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px; /* hauteur fixe pour compenser dans le main */
  background: rgba(0, 0, 0, 0.5);
  padding: 10px;
  z-index: 10;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Barre de navigation centr√©e et responsive */
nav {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 1rem;
}

nav button,
nav select {
  font-size: 1rem;
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-radius: 4px;
  color: #fff;
  cursor: pointer;
  transition: background 0.3s, box-shadow 0.3s;
}

nav button:hover,
nav select:hover {
  background: rgba(255, 255, 255, 0.2);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
}

#toggleAnimation {
  cursor: pointer;
  font-size: 0.9rem;
  color: #fff;
}

/* Responsive - petits √©crans : empile verticalement */
@media (max-width: 600px) {
  nav {
    flex-direction: column;
    gap: 0.5rem;
  }
}

#styleSelector {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: none;
  border-radius: 5px;
  padding: 2px 2px;
}

/* Sections */
main {
  position: relative;
  z-index: 1; /* au-dessus du canvas */
  margin-top: 60px; /* hauteur du header */
  padding: 30px 20px;
  height: calc(100vh - 60px); /* ajuste la hauteur en fonction du header */
  overflow-y: auto;
}

.section {
  display: none;
  margin-bottom: 30px;
}

.section.active {
  display: block;
}

.section h2 {
  margin-bottom: 10px;
}

.explainer {
  margin: 10px 0;
  font-size: 0.9rem;
  color: #ccc;
}

.demo {
  margin: 10px 0;
}

/* Style de base : centr√© et large */
.iframe-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
}

.iframe-container {
  width: 100%;
  max-width: 1200px;
  height: 80vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.iframe-container iframe {
  width: 100%;
  height: 100%;
  border: none;
  display: block;
}

/* Styles pour les petits √©crans */
@media (max-width: 768px) {
  .iframe-container {
    height: 60vh;
  }
}

/* Styles pour les √©crans tr√®s petits */
@media (max-width: 480px) {
  .iframe-container {
    height: 50vh;
  }
}

img {
  max-width: 100%;
  height: auto;
  border: none;
  border-radius: 5px;
}

img.disc {
  border-radius: 100%;
}
</style>
 

</head>
<body>
<canvas id="bg"></canvas>

<header>
  <nav>
    <button onclick="showSection('synesthesie')">Synesth√©sie</button>
    <button onclick="showSection('thaumatrope')">Thaumatrope</button>
    <button onclick="showSection('zootrope')">Zootrope</button>
    <button onclick="showSection('phenakistoscope')">Ph√©nakistiscope</button>
    <div id="toggleAnimation" title="Activer/D√©sactiver l'animation" role="button" tabindex="0">
      <p>
        LinkTree anim√©
        <svg width="40" height="40" viewBox="0 0 60 45" xmlns="http://www.w3.org/2000/svg" class="tree-svg">
          <circle class="leaf leaf1" cx="32" cy="20" r="12" fill="#4CAF50" />
          <circle class="leaf leaf2" cx="22" cy="28" r="10" fill="#81C784" />
          <circle class="leaf leaf3" cx="42" cy="28" r="10" fill="#66BB6A" />
          <rect x="28" y="32" width="8" height="20" rx="2" fill="#8D6E63" />
        </svg>
        <select id="styleSelector">
          <option value="classic">Lueurs ext√©rieures</option>
          <option value="glow">Lueurs int√©rieures</option>
          <option value="symbol">Jardin flottant</option>
          <option value="aquarium">Aquarium</option>
          <option value="emoji">Love, Death & Robots</option>
        </select>
      </p>
    </div>
  </nav>
</header>

<main>
  <section id="synesthesie" class="section active">
    <div class="explainer">
      <p>La synesth√©sie est un ph√©nom√®ne neurologique dans lequel plusieurs sens sont associ√©s‚ÄØ: voir des sons, entendre des couleurs, ressentir des formes. Cette interface explore ces croisements sensoriels √† travers l'image, le son et l'interaction visuelle.</p>
    </div>
    <div class="demo">
      <div class="iframe-wrapper">
        <div class="iframe-container">
          <iframe src="index Synesth√©sie.html" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </section>

  <section id="thaumatrope" class="section">
    <div class="demo">
      <div class="iframe-wrapper">
        <div class="iframe-container">
          <iframe src="index thaumatrope.html" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </section>

  <section id="zootrope" class="section">
    <h2>Zootrope</h2>
    <div class="explainer">Une bande anim√©e est observ√©e √† travers les fentes d‚Äôun cylindre en rotation. Cela cr√©e une illusion de mouvement fluide.</div>
    <div class="demo">
      <img src="img/zootrope-example.gif" alt="Zootrope Demo">
    </div>
  </section>

  <section id="phenakistoscope" class="section">
    <h2>Ph√©nakistiscope & Praxinoscope</h2>
    <div class="explainer">Ces dispositifs utilisent des disques illustr√©s ou des miroirs pour projeter une animation continue lors de la rotation.</div>
    <div class="demo">
      <img src="images/spinning-wheel.gif" alt="spinning-wheel" style="border-radius:100%; height:200px;">
      <img src="img/phenakistiscope-example 04.gif" class="disc" alt="Ph√©nakistiscope" style="height:200px;">
      <img src="img/phenakistiscope-example.gif" alt="Ph√©nakistiscope Demo" style="height:200px;">
      <img src="img/phenakistiscope-example 05.gif" class="disc" alt="Ph√©nakistiscope" style="height:200px;">
      <img src="img/phenakistiscope-example 01.gif" class="disc" alt="Ph√©nakistiscope" style="height:200px;">
      <img src="img/phenakistiscope-disque-animation.gif" class="disc" alt="Ph√©nakistiscope" style="height:200px;">
    </div>
  </section>
</main>

<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

document.addEventListener("DOMContentLoaded", () => {
  const canvas = document.getElementById('bg');
  const ctx = canvas.getContext('2d');
  const styleSelector = document.getElementById('styleSelector');
  const toggleBtn = document.getElementById('toggleAnimation');

  let animationOn = true;
  let leaves = [];
  let currentStyle = 'classic';

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  class Leaf {
    constructor() { this.reset(); }
    reset() {
      const sizes = [8,12,16,20,24,28];
      this.size = sizes[Math.floor(Math.random()*sizes.length)];
      this.x = Math.random()*canvas.width;
      this.y = Math.random()*-canvas.height;
      this.speedY = 0.5 + Math.random()*1.2;
      this.speedX = -0.3 + Math.random()*0.6;
      this.alpha = 0.3 + Math.random()*0.5;
      const r = 150 + Math.random()*105|0, g = 150 + Math.random()*105|0, b = 150 + Math.random()*105|0;
      this.color = `rgba(${r},${g},${b},${this.alpha})`;
      this.symbols = ['üçÉ', '‚ú¶', '‚ùà', '‚ú®', 'üçÇ', 'üçÅ', 'üå∫', 'üåø', 'ü™∑'];
      this.symbol = this.symbols[Math.floor(Math.random()*this.symbols.length)];
      this.emojis = ['‚ù§Ô∏è', 'üíÄ', 'ü§ñ', '‚ô•', '‚ò†Ô∏è', 'üëæ', 'üíò', 'ñ†å', '‚úò', 'üñ§', '‚úñ', '‚úö', '‚ô°', 'ìèµ'];
      this.emoji = this.emojis[Math.floor(Math.random()*this.emojis.length)];
      this.fishes = ['üê†', 'üêü', 'üê°', 'ü¶ë', 'ü¶ê', 'üêô', 'üê†'];
      this.fish = this.fishes[Math.floor(Math.random()*this.fishes.length)];
    }
    update() {
      this.y += this.speedY;
      this.x += this.speedX;
      if (this.y > canvas.height+this.size) this.reset();
    }
    draw() {
      ctx.font = `${this.size}px serif`;
      ctx.globalAlpha = this.alpha;
      ctx.fillStyle = this.color;

      if (currentStyle === 'symbol') ctx.fillText(this.symbol, this.x, this.y);
      else if (currentStyle === 'emoji') ctx.fillText(this.emoji, this.x, this.y);
      else if (currentStyle === 'glow') {
        const grad = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size*0.8);
        grad.addColorStop(0, 'white'); grad.addColorStop(1, this.color);
        ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(this.x, this.y, this.size*0.8, 0, Math.PI*2); ctx.fill();
      } else if (currentStyle === 'aquarium') ctx.fillText(this.fish, this.x, this.y);
      else { ctx.beginPath(); ctx.arc(this.x, this.y, this.size*0.5, 0, Math.PI*2); ctx.fill(); }
      ctx.globalAlpha = 1;
    }
  }

  function generateLeaves() {
    leaves = []; for (let i=0; i<60; i++) leaves.push(new Leaf());
  }
  generateLeaves();

  function animate() {
    if (!animationOn) return;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    leaves.forEach(p => { p.update(); p.draw(); });
    requestAnimationFrame(animate);
  }
  animate();

  styleSelector.addEventListener('change', () => { currentStyle = styleSelector.value; });
  toggleBtn.addEventListener('click', () => {
    animationOn = !animationOn;
    if (animationOn) animate(); else ctx.clearRect(0, 0, canvas.width, canvas.height);
  });
});
</script>
</body>
</html>
